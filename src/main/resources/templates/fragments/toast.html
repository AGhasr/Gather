<div th:fragment="toast-panel" aria-live="polite" aria-atomic="true" class="position-relative">
    <div class="toast-container position-fixed bottom-0 end-0 p-3">

        <div id="successToast" class="toast align-items-center text-white bg-success border-0"
             role="alert" aria-live="assertive" aria-atomic="true"
             th:if="${message} or ${param.logout}">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="fas fa-check-circle me-2"></i>
                    <span th:text="${message} ?: 'You have been logged out successfully.'"></span>
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>

        <div id="errorToast" class="toast align-items-center text-white bg-danger border-0"
             role="alert" aria-live="assertive" aria-atomic="true"
             th:if="${error} or ${param.error}">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="fas fa-exclamation-circle me-2"></i>
                    <span th:text="${error != null} ? ${error} : 'Invalid username or password.'"></span>
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>

    </div>

    <script th:if="${message} or ${error} or ${param.error} or ${param.logout}">
        window.addEventListener('DOMContentLoaded', (event) => {
            var toastElList = [].slice.call(document.querySelectorAll('.toast'))
            var toastList = toastElList.map(function (toastEl) {
                return new bootstrap.Toast(toastEl, { delay: 5000 }); // 5 second timer
            });
            toastList.forEach(toast => toast.show());
        });
    </script>
</div>